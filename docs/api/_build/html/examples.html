

<!DOCTYPE html>
<html class="writer-html5" lang="ru" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Примеры использования &mdash; документация GOP 2.0.0</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=9edc463e" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=3fb1527c"></script>
      <script src="_static/doctools.js?v=fd6eb6e6"></script>
      <script src="_static/sphinx_highlight.js?v=6ffebe34"></script>
      <script src="_static/translations.js?v=cd1d70c9"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Алфавитный указатель" href="genindex.html" />
    <link rel="search" title="Поиск" href="search.html" />
    <link rel="next" title="Вклад в проект GOP" href="contributing.html" />
    <link rel="prev" title="src.utils package" href="api/src.utils.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            GOP
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Поиск в документации" aria-label="Поиск в документации" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Меню навигации">
              <p class="caption" role="heading"><span class="caption-text">Содержание:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Введение в GOP</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Быстрое начало работы</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/modules.html">src</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Примеры использования</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id2">Базовая обработка гиперспектральных данных</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id3">Научный анализ данных</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id4">Пакетная обработка данных</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id5">Создание кастомных вегетационных индексов</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id6">Продвинутая визуализация</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Вклад в проект GOP</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Меню навигации для мобильных устройств" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">GOP</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Навигация по страницам">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Примеры использования</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/examples.rst.txt" rel="nofollow"> Просмотреть исходный код страницы</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="id1">
<h1>Примеры использования<a class="headerlink" href="#id1" title="Ссылка на этот заголовок"></a></h1>
<p>В этом разделе представлены практические примеры использования библиотеки GOP для решения различных задач обработки гиперспектральных данных.</p>
<div class="toctree-wrapper compound">
</div>
<section id="id2">
<h2>Базовая обработка гиперспектральных данных<a class="headerlink" href="#id2" title="Ссылка на этот заголовок"></a></h2>
<p>Пример простой обработки гиперспектральных данных с использованием стандартного пайплайна:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Базовая обработка гиперспектральных данных</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">src.core.pipeline</span><span class="w"> </span><span class="kn">import</span> <span class="n">Pipeline</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">src.utils.logger</span><span class="w"> </span><span class="kn">import</span> <span class="n">setup_logger</span>

<span class="c1"># Настройка логирования</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">setup_logger</span><span class="p">(</span><span class="s1">&#39;BasicProcessing&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;INFO&#39;</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">basic_processing_example</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Пример базовой обработки&quot;&quot;&quot;</span>

    <span class="c1"># Создание пайплайна</span>
    <span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>

    <span class="c1"># Обработка данных</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">results</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">process</span><span class="p">(</span>
            <span class="n">input_path</span><span class="o">=</span><span class="s1">&#39;data/hyperspectral.bil&#39;</span><span class="p">,</span>
            <span class="n">output_dir</span><span class="o">=</span><span class="s1">&#39;results/basic_processing/&#39;</span><span class="p">,</span>
            <span class="n">sensor_type</span><span class="o">=</span><span class="s1">&#39;Hyperspectral&#39;</span><span class="p">,</span>
            <span class="n">selected_indices</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GNDVI&#39;</span><span class="p">,</span> <span class="s1">&#39;NDWI&#39;</span><span class="p">,</span> <span class="s1">&#39;MCARI&#39;</span><span class="p">]</span>
        <span class="p">)</span>

        <span class="c1"># Анализ результатов</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Обработка завершена успешно&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Ортофотоплан: </span><span class="si">{</span><span class="n">results</span><span class="p">[</span><span class="s1">&#39;orthophoto_path&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Маска сегментации: </span><span class="si">{</span><span class="n">results</span><span class="p">[</span><span class="s1">&#39;segmentation_mask&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Оценка состояния растений</span>
        <span class="n">plant_condition</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="s1">&#39;plant_condition&#39;</span><span class="p">][</span><span class="s1">&#39;classification&#39;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Состояние растений: </span><span class="si">{</span><span class="n">plant_condition</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Оценка: </span><span class="si">{</span><span class="n">plant_condition</span><span class="p">[</span><span class="s1">&#39;score&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">results</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Ошибка обработки: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">results</span> <span class="o">=</span> <span class="n">basic_processing_example</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="id3">
<h2>Научный анализ данных<a class="headerlink" href="#id3" title="Ссылка на этот заголовок"></a></h2>
<p>Пример комплексного научного анализа с расчетом статистики и корреляций:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Научный анализ гиперспектральных данных</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">src.core.pipeline</span><span class="w"> </span><span class="kn">import</span> <span class="n">Pipeline</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">src.utils.visualization</span><span class="w"> </span><span class="kn">import</span> <span class="n">visualize_indices</span><span class="p">,</span> <span class="n">create_comparison_plot</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">src.utils.logger</span><span class="w"> </span><span class="kn">import</span> <span class="n">setup_logger</span>

<span class="k">def</span><span class="w"> </span><span class="nf">scientific_analysis_example</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Пример научного анализа&quot;&quot;&quot;</span>

    <span class="n">logger</span> <span class="o">=</span> <span class="n">setup_logger</span><span class="p">(</span><span class="s1">&#39;ScientificAnalysis&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;INFO&#39;</span><span class="p">)</span>

    <span class="c1"># Создание пайплайна с научными настройками</span>
    <span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>

    <span class="c1"># Обработка с полным набором индексов</span>
    <span class="n">results</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">process</span><span class="p">(</span>
        <span class="n">input_path</span><span class="o">=</span><span class="s1">&#39;data/research_area.bil&#39;</span><span class="p">,</span>
        <span class="n">output_dir</span><span class="o">=</span><span class="s1">&#39;results/scientific_analysis/&#39;</span><span class="p">,</span>
        <span class="n">sensor_type</span><span class="o">=</span><span class="s1">&#39;Hyperspectral&#39;</span><span class="p">,</span>
        <span class="n">selected_indices</span><span class="o">=</span><span class="p">[</span>
            <span class="s1">&#39;GNDVI&#39;</span><span class="p">,</span> <span class="s1">&#39;MCARI&#39;</span><span class="p">,</span> <span class="s1">&#39;MNLI&#39;</span><span class="p">,</span> <span class="s1">&#39;OSAVI&#39;</span><span class="p">,</span> <span class="s1">&#39;TVI&#39;</span><span class="p">,</span>
            <span class="s1">&#39;SIPI2&#39;</span><span class="p">,</span> <span class="s1">&#39;mARI&#39;</span><span class="p">,</span> <span class="s1">&#39;NDWI&#39;</span><span class="p">,</span> <span class="s1">&#39;MSI&#39;</span>
        <span class="p">]</span>
    <span class="p">)</span>

    <span class="c1"># Научный анализ результатов</span>
    <span class="n">scientific_data</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="s1">&#39;scientific_analysis&#39;</span><span class="p">]</span>

    <span class="c1"># Анализ статистики индексов</span>
    <span class="n">index_stats</span> <span class="o">=</span> <span class="n">scientific_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;index_statistics&#39;</span><span class="p">,</span> <span class="p">{})</span>

    <span class="c1"># Создание таблицы статистики</span>
    <span class="n">stats_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">index_stats</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
    <span class="n">stats_df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;results/scientific_analysis/index_statistics.csv&#39;</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Статистика индексов сохранена&quot;</span><span class="p">)</span>

    <span class="c1"># Корреляционный анализ</span>
    <span class="n">correlation_data</span> <span class="o">=</span> <span class="n">scientific_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;correlation_analysis&#39;</span><span class="p">,</span> <span class="p">{})</span>

    <span class="k">if</span> <span class="s1">&#39;correlation_matrix&#39;</span> <span class="ow">in</span> <span class="n">correlation_data</span><span class="p">:</span>
        <span class="n">corr_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
            <span class="n">correlation_data</span><span class="p">[</span><span class="s1">&#39;correlation_matrix&#39;</span><span class="p">],</span>
            <span class="n">index</span><span class="o">=</span><span class="n">correlation_data</span><span class="p">[</span><span class="s1">&#39;index_names&#39;</span><span class="p">],</span>
            <span class="n">columns</span><span class="o">=</span><span class="n">correlation_data</span><span class="p">[</span><span class="s1">&#39;index_names&#39;</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="n">corr_df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;results/scientific_analysis/correlation_matrix.csv&#39;</span><span class="p">)</span>

        <span class="c1"># Поиск сильных корреляций</span>
        <span class="n">strong_correlations</span> <span class="o">=</span> <span class="n">correlation_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;strong_correlations&#39;</span><span class="p">,</span> <span class="p">[])</span>
        <span class="k">for</span> <span class="n">corr</span> <span class="ow">in</span> <span class="n">strong_correlations</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Сильная корреляция: </span><span class="si">{</span><span class="n">corr</span><span class="p">[</span><span class="s1">&#39;index1&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">corr</span><span class="p">[</span><span class="s1">&#39;index2&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> = </span><span class="si">{</span><span class="n">corr</span><span class="p">[</span><span class="s1">&#39;correlation&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Пространственный анализ</span>
    <span class="n">spatial_data</span> <span class="o">=</span> <span class="n">scientific_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;spatial_analysis&#39;</span><span class="p">,</span> <span class="p">{})</span>

    <span class="c1"># Визуализация результатов</span>
    <span class="n">indices</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="s1">&#39;indices&#39;</span><span class="p">][</span><span class="s1">&#39;normalized_indices&#39;</span><span class="p">]</span>

    <span class="c1"># Визуализация индексов</span>
    <span class="n">fig</span> <span class="o">=</span> <span class="n">visualize_indices</span><span class="p">(</span>
        <span class="n">indices_dict</span><span class="o">=</span><span class="n">indices</span><span class="p">,</span>
        <span class="n">output_path</span><span class="o">=</span><span class="s1">&#39;results/scientific_analysis/indices_visualization.png&#39;</span>
    <span class="p">)</span>

    <span class="c1"># Создание сравнительного графика</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">src.utils.image_utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_image</span>

    <span class="n">original_image</span> <span class="o">=</span> <span class="n">load_image</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="s1">&#39;orthophoto_path&#39;</span><span class="p">])</span>
    <span class="n">segmentation_mask</span> <span class="o">=</span> <span class="n">load_image</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="s1">&#39;segmentation_mask&#39;</span><span class="p">],</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;L&#39;</span><span class="p">)</span>

    <span class="n">fig</span> <span class="o">=</span> <span class="n">create_comparison_plot</span><span class="p">(</span>
        <span class="n">original_image</span><span class="o">=</span><span class="n">original_image</span><span class="p">,</span>
        <span class="n">segmentation_mask</span><span class="o">=</span><span class="n">segmentation_mask</span><span class="p">,</span>
        <span class="n">indices_dict</span><span class="o">=</span><span class="n">indices</span><span class="p">,</span>
        <span class="n">output_path</span><span class="o">=</span><span class="s1">&#39;results/scientific_analysis/comparison_plot.png&#39;</span>
    <span class="p">)</span>

    <span class="c1"># Классификация состояния растений</span>
    <span class="n">plant_classification</span> <span class="o">=</span> <span class="n">scientific_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;plant_classification&#39;</span><span class="p">,</span> <span class="p">{})</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Классификация состояния: </span><span class="si">{</span><span class="n">plant_classification</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Неизвестно&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Уверенность: </span><span class="si">{</span><span class="n">plant_classification</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;confidence&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">results</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">results</span> <span class="o">=</span> <span class="n">scientific_analysis_example</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="id4">
<h2>Пакетная обработка данных<a class="headerlink" href="#id4" title="Ссылка на этот заголовок"></a></h2>
<p>Пример пакетной обработки множества файлов с автоматическим созданием отчетов:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Пакетная обработка гиперспектральных данных</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">glob</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">src.core.pipeline</span><span class="w"> </span><span class="kn">import</span> <span class="n">Pipeline</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">src.utils.logger</span><span class="w"> </span><span class="kn">import</span> <span class="n">setup_logger</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">src.utils.file_utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">ensure_dir</span>

<span class="k">def</span><span class="w"> </span><span class="nf">batch_processing_example</span><span class="p">(</span><span class="n">input_dir</span><span class="p">,</span> <span class="n">output_dir</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Пример пакетной обработки&quot;&quot;&quot;</span>

    <span class="n">logger</span> <span class="o">=</span> <span class="n">setup_logger</span><span class="p">(</span><span class="s1">&#39;BatchProcessing&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;INFO&#39;</span><span class="p">)</span>

    <span class="c1"># Создание выходной директории</span>
    <span class="n">ensure_dir</span><span class="p">(</span><span class="n">output_dir</span><span class="p">)</span>

    <span class="c1"># Поиск файлов для обработки</span>
    <span class="n">search_pattern</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">input_dir</span><span class="p">,</span> <span class="s1">&#39;*.bil&#39;</span><span class="p">)</span>
    <span class="n">files</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">search_pattern</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">files</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Файлы не найдены по шаблону: </span><span class="si">{</span><span class="n">search_pattern</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Найдено файлов для обработки: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">files</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Создание пайплайна</span>
    <span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>

    <span class="c1"># Список для результатов</span>
    <span class="n">processing_results</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># Обработка файлов</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">file_path</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">files</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Обработка файла </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">files</span><span class="p">)</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="c1"># Создание индивидуальной выходной директории</span>
            <span class="n">file_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">file_path</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">file_output_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">output_dir</span><span class="p">,</span> <span class="n">file_name</span><span class="p">)</span>

            <span class="c1"># Обработка</span>
            <span class="n">results</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">process</span><span class="p">(</span>
                <span class="n">input_path</span><span class="o">=</span><span class="n">file_path</span><span class="p">,</span>
                <span class="n">output_dir</span><span class="o">=</span><span class="n">file_output_dir</span><span class="p">,</span>
                <span class="n">sensor_type</span><span class="o">=</span><span class="s1">&#39;Hyperspectral&#39;</span><span class="p">,</span>
                <span class="n">selected_indices</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GNDVI&#39;</span><span class="p">,</span> <span class="s1">&#39;NDWI&#39;</span><span class="p">,</span> <span class="s1">&#39;MCARI&#39;</span><span class="p">]</span>
            <span class="p">)</span>

            <span class="c1"># Сбор результатов</span>
            <span class="n">file_result</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;filename&#39;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">file_path</span><span class="p">),</span>
                <span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="s1">&#39;success&#39;</span><span class="p">,</span>
                <span class="s1">&#39;orthophoto_path&#39;</span><span class="p">:</span> <span class="n">results</span><span class="p">[</span><span class="s1">&#39;orthophoto_path&#39;</span><span class="p">],</span>
                <span class="s1">&#39;segmentation_mask&#39;</span><span class="p">:</span> <span class="n">results</span><span class="p">[</span><span class="s1">&#39;segmentation_mask&#39;</span><span class="p">],</span>
                <span class="s1">&#39;processing_time&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
            <span class="p">}</span>

            <span class="c1"># Оценка состояния растений</span>
            <span class="n">plant_condition</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="s1">&#39;plant_condition&#39;</span><span class="p">][</span><span class="s1">&#39;classification&#39;</span><span class="p">]</span>
            <span class="n">file_result</span><span class="p">[</span><span class="s1">&#39;plant_condition&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">plant_condition</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span>
            <span class="n">file_result</span><span class="p">[</span><span class="s1">&#39;condition_score&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">plant_condition</span><span class="p">[</span><span class="s1">&#39;score&#39;</span><span class="p">]</span>

            <span class="c1"># Статистика индексов</span>
            <span class="n">indices</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="s1">&#39;indices&#39;</span><span class="p">][</span><span class="s1">&#39;indices_values&#39;</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">index_name</span><span class="p">,</span> <span class="n">values</span> <span class="ow">in</span> <span class="n">indices</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">valid_values</span> <span class="o">=</span> <span class="n">values</span><span class="p">[</span><span class="n">values</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">valid_values</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">file_result</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">index_name</span><span class="si">}</span><span class="s1">_mean&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">valid_values</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
                    <span class="n">file_result</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">index_name</span><span class="si">}</span><span class="s1">_std&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">valid_values</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>

            <span class="n">processing_results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">file_result</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Файл обработан успешно: </span><span class="si">{</span><span class="n">file_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Ошибка обработки файла </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="c1"># Добавление информации об ошибке</span>
            <span class="n">file_result</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;filename&#39;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">file_path</span><span class="p">),</span>
                <span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="s1">&#39;error&#39;</span><span class="p">,</span>
                <span class="s1">&#39;error_message&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span>
                <span class="s1">&#39;processing_time&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
            <span class="p">}</span>
            <span class="n">processing_results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">file_result</span><span class="p">)</span>

    <span class="c1"># Создание сводного отчета</span>
    <span class="n">results_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">processing_results</span><span class="p">)</span>
    <span class="n">results_df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">output_dir</span><span class="p">,</span> <span class="s1">&#39;batch_processing_report.csv&#39;</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="c1"># Статистика обработки</span>
    <span class="n">success_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">([</span><span class="n">r</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">processing_results</span> <span class="k">if</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;status&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;success&#39;</span><span class="p">])</span>
    <span class="n">error_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">([</span><span class="n">r</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">processing_results</span> <span class="k">if</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;status&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;error&#39;</span><span class="p">])</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Пакетная обработка завершена:&quot;</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Успешно: </span><span class="si">{</span><span class="n">success_count</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;С ошибками: </span><span class="si">{</span><span class="n">error_count</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Всего: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">processing_results</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Создание сводной статистики</span>
    <span class="k">if</span> <span class="n">success_count</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">success_df</span> <span class="o">=</span> <span class="n">results_df</span><span class="p">[</span><span class="n">results_df</span><span class="p">[</span><span class="s1">&#39;status&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;success&#39;</span><span class="p">]</span>

        <span class="c1"># Статистика по состоянию растений</span>
        <span class="n">condition_counts</span> <span class="o">=</span> <span class="n">success_df</span><span class="p">[</span><span class="s1">&#39;plant_condition&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Распределение состояния растений:&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">condition</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">condition_counts</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="si">{</span><span class="n">condition</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">count</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Средние значения индексов</span>
        <span class="n">index_columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">col</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">success_df</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="n">col</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;_mean&#39;</span><span class="p">)]</span>
        <span class="k">if</span> <span class="n">index_columns</span><span class="p">:</span>
            <span class="n">index_means</span> <span class="o">=</span> <span class="n">success_df</span><span class="p">[</span><span class="n">index_columns</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Средние значения индексов по всем файлам:&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">mean_val</span> <span class="ow">in</span> <span class="n">index_means</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="si">{</span><span class="n">index</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">mean_val</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">processing_results</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">results</span> <span class="o">=</span> <span class="n">batch_processing_example</span><span class="p">(</span>
        <span class="n">input_dir</span><span class="o">=</span><span class="s1">&#39;data/batch_input/&#39;</span><span class="p">,</span>
        <span class="n">output_dir</span><span class="o">=</span><span class="s1">&#39;results/batch_processing/&#39;</span>
    <span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id5">
<h2>Создание кастомных вегетационных индексов<a class="headerlink" href="#id5" title="Ссылка на этот заголовок"></a></h2>
<p>Пример создания и использования собственных вегетационных индексов:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Создание и использование кастомных вегетационных индексов</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">src.indices.definitions</span><span class="w"> </span><span class="kn">import</span> <span class="n">IndexDefinitions</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">src.indices.calculator</span><span class="w"> </span><span class="kn">import</span> <span class="n">VegetationIndexCalculator</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">src.utils.logger</span><span class="w"> </span><span class="kn">import</span> <span class="n">setup_logger</span>

<span class="k">def</span><span class="w"> </span><span class="nf">add_custom_indices</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Добавление кастомных индексов&quot;&quot;&quot;</span>

    <span class="n">logger</span> <span class="o">=</span> <span class="n">setup_logger</span><span class="p">(</span><span class="s1">&#39;CustomIndices&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;INFO&#39;</span><span class="p">)</span>

    <span class="c1"># Определение кастомных индексов</span>
    <span class="n">custom_indices</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;CustomNDVI&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Custom Normalized Difference Vegetation Index&#39;</span><span class="p">,</span>
            <span class="s1">&#39;formula&#39;</span><span class="p">:</span> <span class="s1">&#39;(NIR - Red) / (NIR + Red)&#39;</span><span class="p">,</span>
            <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Модифицированный NDVI с улучшенной чувствительностью&#39;</span><span class="p">,</span>
            <span class="s1">&#39;required_bands&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;NIR&#39;</span><span class="p">,</span> <span class="s1">&#39;Red&#39;</span><span class="p">],</span>
            <span class="s1">&#39;range&#39;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
            <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">nir</span><span class="p">,</span> <span class="n">red</span><span class="p">:</span> <span class="p">(</span><span class="n">nir</span> <span class="o">-</span> <span class="n">red</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">nir</span> <span class="o">+</span> <span class="n">red</span> <span class="o">+</span> <span class="mf">1e-8</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="s1">&#39;EnhancedGVI&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Enhanced Green Vegetation Index&#39;</span><span class="p">,</span>
            <span class="s1">&#39;formula&#39;</span><span class="p">:</span> <span class="s1">&#39;(2*NIR - Green - Red) / (2*NIR + Green + Red)&#39;</span><span class="p">,</span>
            <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Улучшенный зеленый вегетационный индекс&#39;</span><span class="p">,</span>
            <span class="s1">&#39;required_bands&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;NIR&#39;</span><span class="p">,</span> <span class="s1">&#39;Green&#39;</span><span class="p">,</span> <span class="s1">&#39;Red&#39;</span><span class="p">],</span>
            <span class="s1">&#39;range&#39;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
            <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">nir</span><span class="p">,</span> <span class="n">green</span><span class="p">,</span> <span class="n">red</span><span class="p">:</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">nir</span> <span class="o">-</span> <span class="n">green</span> <span class="o">-</span> <span class="n">red</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">nir</span> <span class="o">+</span> <span class="n">green</span> <span class="o">+</span> <span class="n">red</span> <span class="o">+</span> <span class="mf">1e-8</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="s1">&#39;StressIndex&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Plant Stress Index&#39;</span><span class="p">,</span>
            <span class="s1">&#39;formula&#39;</span><span class="p">:</span> <span class="s1">&#39;(Red - Green) / (Red + Green)&#39;</span><span class="p">,</span>
            <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Индекс стресса растений на основе красного и зеленого каналов&#39;</span><span class="p">,</span>
            <span class="s1">&#39;required_bands&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Red&#39;</span><span class="p">,</span> <span class="s1">&#39;Green&#39;</span><span class="p">],</span>
            <span class="s1">&#39;range&#39;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
            <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">red</span><span class="p">,</span> <span class="n">green</span><span class="p">:</span> <span class="p">(</span><span class="n">red</span> <span class="o">-</span> <span class="n">green</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">red</span> <span class="o">+</span> <span class="n">green</span> <span class="o">+</span> <span class="mf">1e-8</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1"># Добавление в существующие определения</span>
    <span class="n">IndexDefinitions</span><span class="o">.</span><span class="n">ALL_INDICES</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">custom_indices</span><span class="p">)</span>

    <span class="c1"># Создание новой группы индексов</span>
    <span class="n">IndexDefinitions</span><span class="o">.</span><span class="n">INDEX_GROUPS</span><span class="p">[</span><span class="s1">&#39;custom&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">custom_indices</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Добавлено </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">custom_indices</span><span class="p">)</span><span class="si">}</span><span class="s2"> кастомных индексов&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">custom_indices</span>

<span class="k">def</span><span class="w"> </span><span class="nf">calculate_custom_indices_example</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Пример расчета кастомных индексов&quot;&quot;&quot;</span>

    <span class="n">logger</span> <span class="o">=</span> <span class="n">setup_logger</span><span class="p">(</span><span class="s1">&#39;CustomIndicesCalculation&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;INFO&#39;</span><span class="p">)</span>

    <span class="c1"># Добавление кастомных индексов</span>
    <span class="n">custom_indices</span> <span class="o">=</span> <span class="n">add_custom_indices</span><span class="p">()</span>

    <span class="c1"># Создание тестовых данных</span>
    <span class="n">bands</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;NIR&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.8</span> <span class="o">+</span> <span class="mf">0.2</span><span class="p">,</span>
        <span class="s1">&#39;Red&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.6</span> <span class="o">+</span> <span class="mf">0.1</span><span class="p">,</span>
        <span class="s1">&#39;Green&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.7</span> <span class="o">+</span> <span class="mf">0.2</span>
    <span class="p">}</span>

    <span class="c1"># Расчет кастомных индексов</span>
    <span class="n">custom_results</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">index_name</span> <span class="ow">in</span> <span class="n">custom_indices</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Расчет значений индекса</span>
            <span class="n">index_values</span> <span class="o">=</span> <span class="n">IndexDefinitions</span><span class="o">.</span><span class="n">calculate_index</span><span class="p">(</span><span class="n">index_name</span><span class="p">,</span> <span class="n">bands</span><span class="p">)</span>

            <span class="c1"># Нормализация</span>
            <span class="n">mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>
            <span class="n">normalized_values</span> <span class="o">=</span> <span class="n">IndexDefinitions</span><span class="o">.</span><span class="n">normalize_index</span><span class="p">(</span><span class="n">index_name</span><span class="p">,</span> <span class="n">index_values</span><span class="p">,</span> <span class="n">mask</span><span class="p">)</span>

            <span class="n">custom_results</span><span class="p">[</span><span class="n">index_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;values&#39;</span><span class="p">:</span> <span class="n">index_values</span><span class="p">,</span>
                <span class="s1">&#39;normalized&#39;</span><span class="p">:</span> <span class="n">normalized_values</span><span class="p">,</span>
                <span class="s1">&#39;mean&#39;</span><span class="p">:</span> <span class="n">index_values</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span>
                <span class="s1">&#39;std&#39;</span><span class="p">:</span> <span class="n">index_values</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
            <span class="p">}</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Рассчитан индекс </span><span class="si">{</span><span class="n">index_name</span><span class="si">}</span><span class="s2">: среднее = </span><span class="si">{</span><span class="n">index_values</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Ошибка расчета индекса </span><span class="si">{</span><span class="n">index_name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">custom_results</span>

<span class="k">def</span><span class="w"> </span><span class="nf">integrate_custom_indices_pipeline</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Интеграция кастомных индексов в пайплайн&quot;&quot;&quot;</span>

    <span class="n">logger</span> <span class="o">=</span> <span class="n">setup_logger</span><span class="p">(</span><span class="s1">&#39;CustomPipeline&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;INFO&#39;</span><span class="p">)</span>

    <span class="c1"># Добавление кастомных индексов</span>
    <span class="n">add_custom_indices</span><span class="p">()</span>

    <span class="c1"># Создание пайплайна</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">src.core.pipeline</span><span class="w"> </span><span class="kn">import</span> <span class="n">Pipeline</span>
    <span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>

    <span class="c1"># Обработка с использованием кастомных индексов</span>
    <span class="n">results</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">process</span><span class="p">(</span>
        <span class="n">input_path</span><span class="o">=</span><span class="s1">&#39;data/hyperspectral.bil&#39;</span><span class="p">,</span>
        <span class="n">output_dir</span><span class="o">=</span><span class="s1">&#39;results/custom_indices/&#39;</span><span class="p">,</span>
        <span class="n">sensor_type</span><span class="o">=</span><span class="s1">&#39;Hyperspectral&#39;</span><span class="p">,</span>
        <span class="n">selected_indices</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GNDVI&#39;</span><span class="p">,</span> <span class="s1">&#39;CustomNDVI&#39;</span><span class="p">,</span> <span class="s1">&#39;EnhancedGVI&#39;</span><span class="p">,</span> <span class="s1">&#39;StressIndex&#39;</span><span class="p">]</span>
    <span class="p">)</span>

    <span class="c1"># Сравнение стандартных и кастомных индексов</span>
    <span class="n">indices</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="s1">&#39;indices&#39;</span><span class="p">][</span><span class="s1">&#39;indices_values&#39;</span><span class="p">]</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Сравнение индексов:&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">index_name</span><span class="p">,</span> <span class="n">values</span> <span class="ow">in</span> <span class="n">indices</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">valid_values</span> <span class="o">=</span> <span class="n">values</span><span class="p">[</span><span class="n">values</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">valid_values</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">index_name</span><span class="si">}</span><span class="s2">: среднее = </span><span class="si">{</span><span class="n">valid_values</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">, СКО = </span><span class="si">{</span><span class="n">valid_values</span><span class="o">.</span><span class="n">std</span><span class="p">()</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">results</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="c1"># Расчет кастомных индексов</span>
    <span class="n">custom_results</span> <span class="o">=</span> <span class="n">calculate_custom_indices_example</span><span class="p">()</span>

    <span class="c1"># Интеграция в пайплайн</span>
    <span class="n">pipeline_results</span> <span class="o">=</span> <span class="n">integrate_custom_indices_pipeline</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="id6">
<h2>Продвинутая визуализация<a class="headerlink" href="#id6" title="Ссылка на этот заголовок"></a></h2>
<p>Пример создания сложных визуализаций и научных графиков:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Продвинутая визуализация результатов</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">seaborn</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sns</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">src.core.pipeline</span><span class="w"> </span><span class="kn">import</span> <span class="n">Pipeline</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">src.utils.visualization</span><span class="w"> </span><span class="kn">import</span> <span class="n">visualize_indices</span><span class="p">,</span> <span class="n">create_comparison_plot</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">src.utils.image_utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_image</span><span class="p">,</span> <span class="n">normalize_image</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">src.utils.logger</span><span class="w"> </span><span class="kn">import</span> <span class="n">setup_logger</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">src.utils.file_utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">ensure_dir</span>

<span class="k">def</span><span class="w"> </span><span class="nf">create_advanced_visualizations</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="n">output_dir</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Создание продвинутых визуализаций&quot;&quot;&quot;</span>

    <span class="n">logger</span> <span class="o">=</span> <span class="n">setup_logger</span><span class="p">(</span><span class="s1">&#39;AdvancedVisualization&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;INFO&#39;</span><span class="p">)</span>
    <span class="n">ensure_dir</span><span class="p">(</span><span class="n">output_dir</span><span class="p">)</span>

    <span class="c1"># Загрузка данных</span>
    <span class="n">original_image</span> <span class="o">=</span> <span class="n">load_image</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="s1">&#39;orthophoto_path&#39;</span><span class="p">])</span>
    <span class="n">segmentation_mask</span> <span class="o">=</span> <span class="n">load_image</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="s1">&#39;segmentation_mask&#39;</span><span class="p">],</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;L&#39;</span><span class="p">)</span>
    <span class="n">indices</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="s1">&#39;indices&#39;</span><span class="p">][</span><span class="s1">&#39;normalized_indices&#39;</span><span class="p">]</span>

    <span class="c1"># 1. Создание многопанельной визуализации</span>
    <span class="n">create_multi_panel_visualization</span><span class="p">(</span><span class="n">original_image</span><span class="p">,</span> <span class="n">segmentation_mask</span><span class="p">,</span> <span class="n">indices</span><span class="p">,</span> <span class="n">output_dir</span><span class="p">)</span>

    <span class="c1"># 2. Создание корреляционной матрицы</span>
    <span class="n">create_correlation_heatmap</span><span class="p">(</span><span class="n">indices</span><span class="p">,</span> <span class="n">output_dir</span><span class="p">)</span>

    <span class="c1"># 3. Создание профилей спектральных индексов</span>
    <span class="n">create_index_profiles</span><span class="p">(</span><span class="n">indices</span><span class="p">,</span> <span class="n">segmentation_mask</span><span class="p">,</span> <span class="n">output_dir</span><span class="p">)</span>

    <span class="c1"># 4. Создание 3D визуализации</span>
    <span class="n">create_3d_visualization</span><span class="p">(</span><span class="n">indices</span><span class="p">,</span> <span class="n">output_dir</span><span class="p">)</span>

    <span class="c1"># 5. Создание временных рядов (если есть данные)</span>
    <span class="n">create_time_series_visualization</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="n">output_dir</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Продвинутые визуализации созданы&quot;</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">create_multi_panel_visualization</span><span class="p">(</span><span class="n">original_image</span><span class="p">,</span> <span class="n">segmentation_mask</span><span class="p">,</span> <span class="n">indices</span><span class="p">,</span> <span class="n">output_dir</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Создание многопанельной визуализации&quot;&quot;&quot;</span>

    <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>

    <span class="c1"># Исходное изображение</span>
    <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">original_image</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Исходное изображение&#39;</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>

    <span class="c1"># Маска сегментации</span>
    <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">segmentation_mask</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;tab20&#39;</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Маска сегментации&#39;</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>

    <span class="c1"># Вегетационные индексы</span>
    <span class="n">index_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">indices</span><span class="o">.</span><span class="n">keys</span><span class="p">())[:</span><span class="mi">6</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">index_name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">index_names</span><span class="p">):</span>
        <span class="n">row</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">//</span> <span class="mi">3</span>
        <span class="n">col</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">3</span>

        <span class="n">im</span> <span class="o">=</span> <span class="n">axes</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">indices</span><span class="p">[</span><span class="n">index_name</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;RdYlGn&#39;</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">index_name</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">im</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">],</span> <span class="n">fraction</span><span class="o">=</span><span class="mf">0.046</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mf">0.04</span><span class="p">)</span>

    <span class="c1"># Скрытие лишних осей</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">index_names</span><span class="p">)</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">9</span><span class="p">):</span>
        <span class="n">row</span> <span class="o">=</span> <span class="n">i</span> <span class="o">//</span> <span class="mi">3</span>
        <span class="n">col</span> <span class="o">=</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">3</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">delaxes</span><span class="p">(</span><span class="n">axes</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">])</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">output_dir</span><span class="si">}</span><span class="s1">/multi_panel_visualization.png&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">def</span><span class="w"> </span><span class="nf">create_correlation_heatmap</span><span class="p">(</span><span class="n">indices</span><span class="p">,</span> <span class="n">output_dir</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Создание тепловой карты корреляций&quot;&quot;&quot;</span>

    <span class="c1"># Создание матрицы данных</span>
    <span class="n">index_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">indices</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
    <span class="n">correlation_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">index_names</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">index_names</span><span class="p">)))</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">name1</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">index_names</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">name2</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">index_names</span><span class="p">):</span>
            <span class="n">data1</span> <span class="o">=</span> <span class="n">indices</span><span class="p">[</span><span class="n">name1</span><span class="p">]</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
            <span class="n">data2</span> <span class="o">=</span> <span class="n">indices</span><span class="p">[</span><span class="n">name2</span><span class="p">]</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>

            <span class="c1"># Удаление NaN значений</span>
            <span class="n">valid_mask</span> <span class="o">=</span> <span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">data1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">data2</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">valid_mask</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">correlation</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">corrcoef</span><span class="p">(</span><span class="n">data1</span><span class="p">[</span><span class="n">valid_mask</span><span class="p">],</span> <span class="n">data2</span><span class="p">[</span><span class="n">valid_mask</span><span class="p">])[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
                <span class="n">correlation_matrix</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">correlation</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">correlation_matrix</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="c1"># Создание тепловой карты</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span>
        <span class="n">correlation_matrix</span><span class="p">,</span>
        <span class="n">xticklabels</span><span class="o">=</span><span class="n">index_names</span><span class="p">,</span>
        <span class="n">yticklabels</span><span class="o">=</span><span class="n">index_names</span><span class="p">,</span>
        <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;coolwarm&#39;</span><span class="p">,</span>
        <span class="n">center</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">square</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Корреляционная матрица вегетационных индексов&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">output_dir</span><span class="si">}</span><span class="s1">/correlation_heatmap.png&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">def</span><span class="w"> </span><span class="nf">create_index_profiles</span><span class="p">(</span><span class="n">indices</span><span class="p">,</span> <span class="n">segmentation_mask</span><span class="p">,</span> <span class="n">output_dir</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Создание профилей спектральных индексов&quot;&quot;&quot;</span>

    <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

    <span class="c1"># Выбор областей для анализа</span>
    <span class="n">mask_binary</span> <span class="o">=</span> <span class="p">(</span><span class="n">segmentation_mask</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>

    <span class="c1"># Профили по строкам и столбцам</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">index_name</span><span class="p">,</span> <span class="n">index_data</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">indices</span><span class="o">.</span><span class="n">items</span><span class="p">())[:</span><span class="mi">4</span><span class="p">]):</span>
        <span class="n">row</span> <span class="o">=</span> <span class="n">i</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="n">col</span> <span class="o">=</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span>

        <span class="c1"># Профиль по центральной строке</span>
        <span class="n">center_row</span> <span class="o">=</span> <span class="n">index_data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="n">row_profile</span> <span class="o">=</span> <span class="n">index_data</span><span class="p">[</span><span class="n">center_row</span><span class="p">,</span> <span class="p">:]</span>

        <span class="c1"># Профиль по центральному столбцу</span>
        <span class="n">center_col</span> <span class="o">=</span> <span class="n">index_data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="n">col_profile</span> <span class="o">=</span> <span class="n">index_data</span><span class="p">[:,</span> <span class="n">center_col</span><span class="p">]</span>

        <span class="n">x_axis</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">row_profile</span><span class="p">))</span>

        <span class="n">axes</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x_axis</span><span class="p">,</span> <span class="n">row_profile</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Строка&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x_axis</span><span class="p">,</span> <span class="n">col_profile</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Столбец&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Профиль индекса </span><span class="si">{</span><span class="n">index_name</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Позиция&#39;</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Значение индекса&#39;</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
        <span class="n">axes</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">output_dir</span><span class="si">}</span><span class="s1">/index_profiles.png&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">def</span><span class="w"> </span><span class="nf">create_3d_visualization</span><span class="p">(</span><span class="n">indices</span><span class="p">,</span> <span class="n">output_dir</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Создание 3D визуализации&quot;&quot;&quot;</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">mpl_toolkits.mplot3d</span><span class="w"> </span><span class="kn">import</span> <span class="n">Axes3D</span>

    <span class="c1"># Выбор трех индексов для 3D визуализации</span>
    <span class="n">index_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">indices</span><span class="o">.</span><span class="n">keys</span><span class="p">())[:</span><span class="mi">3</span><span class="p">]</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">index_names</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
        <span class="c1"># Создание 3D облака точек</span>
        <span class="n">index1</span> <span class="o">=</span> <span class="n">indices</span><span class="p">[</span><span class="n">index_names</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
        <span class="n">index2</span> <span class="o">=</span> <span class="n">indices</span><span class="p">[</span><span class="n">index_names</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
        <span class="n">index3</span> <span class="o">=</span> <span class="n">indices</span><span class="p">[</span><span class="n">index_names</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>

        <span class="c1"># Удаление NaN значений</span>
        <span class="n">valid_mask</span> <span class="o">=</span> <span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">index1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">index2</span><span class="p">)</span> <span class="o">&amp;</span> <span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">index3</span><span class="p">)</span>

        <span class="c1"># Сэмплирование для ускорения</span>
        <span class="n">valid_indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">valid_mask</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">valid_indices</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">10000</span><span class="p">:</span>
            <span class="n">sampled_indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">valid_indices</span><span class="p">,</span> <span class="mi">10000</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">sampled_indices</span> <span class="o">=</span> <span class="n">valid_indices</span>

        <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">9</span><span class="p">))</span>
        <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="s1">&#39;3d&#39;</span><span class="p">)</span>

        <span class="n">scatter</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
            <span class="n">index1</span><span class="p">[</span><span class="n">sampled_indices</span><span class="p">],</span>
            <span class="n">index2</span><span class="p">[</span><span class="n">sampled_indices</span><span class="p">],</span>
            <span class="n">index3</span><span class="p">[</span><span class="n">sampled_indices</span><span class="p">],</span>
            <span class="n">c</span><span class="o">=</span><span class="n">index3</span><span class="p">[</span><span class="n">sampled_indices</span><span class="p">],</span>
            <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span>
            <span class="n">alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span>
            <span class="n">s</span><span class="o">=</span><span class="mi">1</span>
        <span class="p">)</span>

        <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">index_names</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">index_names</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_zlabel</span><span class="p">(</span><span class="n">index_names</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;3D распределение вегетационных индексов&#39;</span><span class="p">)</span>

        <span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">scatter</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">shrink</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">aspect</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">output_dir</span><span class="si">}</span><span class="s1">/3d_visualization.png&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">def</span><span class="w"> </span><span class="nf">create_time_series_visualization</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="n">output_dir</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Создание визуализации временных рядов&quot;&quot;&quot;</span>

    <span class="c1"># Этот метод может быть расширен для визуализации данных</span>
    <span class="c1"># из нескольких временных точек</span>

    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

    <span class="c1"># Пример: визуализация изменения индексов во времени</span>
    <span class="c1"># (заглушка для демонстрации)</span>
    <span class="n">time_points</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">gndvi_values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">ndwi_values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.15</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">time_points</span><span class="p">,</span> <span class="n">gndvi_values</span><span class="p">,</span> <span class="s1">&#39;o-&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;GNDVI&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">time_points</span><span class="p">,</span> <span class="n">ndwi_values</span><span class="p">,</span> <span class="s1">&#39;s-&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;NDWI&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Время (дни)&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Значение индекса&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Динамика вегетационных индексов&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">output_dir</span><span class="si">}</span><span class="s1">/time_series.png&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">def</span><span class="w"> </span><span class="nf">advanced_visualization_example</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Пример продвинутой визуализации&quot;&quot;&quot;</span>

    <span class="n">logger</span> <span class="o">=</span> <span class="n">setup_logger</span><span class="p">(</span><span class="s1">&#39;AdvancedVisualizationExample&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;INFO&#39;</span><span class="p">)</span>

    <span class="c1"># Обработка данных</span>
    <span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span>
    <span class="n">results</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">process</span><span class="p">(</span>
        <span class="n">input_path</span><span class="o">=</span><span class="s1">&#39;data/hyperspectral.bil&#39;</span><span class="p">,</span>
        <span class="n">output_dir</span><span class="o">=</span><span class="s1">&#39;results/advanced_vis/&#39;</span><span class="p">,</span>
        <span class="n">sensor_type</span><span class="o">=</span><span class="s1">&#39;Hyperspectral&#39;</span><span class="p">,</span>
        <span class="n">selected_indices</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GNDVI&#39;</span><span class="p">,</span> <span class="s1">&#39;NDWI&#39;</span><span class="p">,</span> <span class="s1">&#39;MCARI&#39;</span><span class="p">,</span> <span class="s1">&#39;OSAVI&#39;</span><span class="p">,</span> <span class="s1">&#39;SIPI2&#39;</span><span class="p">]</span>
    <span class="p">)</span>

    <span class="c1"># Создание продвинутых визуализаций</span>
    <span class="n">create_advanced_visualizations</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="s1">&#39;results/advanced_visualizations/&#39;</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Пример продвинутой визуализации завершен&quot;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">advanced_visualization_example</span><span class="p">()</span>
</pre></div>
</div>
<p>Эти примеры демонстрируют различные сценарии использования библиотеки GOP:
от базовой обработки до сложного научного анализа и визуализации.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Нижняя область">
        <a href="api/src.utils.html" class="btn btn-neutral float-left" title="src.utils package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Предыдущая</a>
        <a href="contributing.html" class="btn btn-neutral float-right" title="Вклад в проект GOP" accesskey="n" rel="next">Следующая <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Авторские права 2024, Индыков Дмитрий Андреевич. </p>
  </div>

  Собрано при помощи <a href="https://www.sphinx-doc.org/">Sphinx</a> с использованием
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">темы,</a>
    предоставленной <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>